
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-6"><!--COL de cadastro de entregas -->
      <div class="novaEntrega container">
        <form [formGroup]="checkoutForm">
          <div mat-subheader>Nova entrega</div>
          <mat-form-field>
            <mat-label>Tipo</mat-label>
              <mat-select class="mat-select" [(value)]="selectedTipo" formControlName="viewValue" required>
                <mat-option [value]="option.viewValue" *ngFor="let option of tipos" >
                  {{ option.viewValue }}
                </mat-option>
              </mat-select>
          </mat-form-field>
          <mat-form-field style="display: block;">    
            <mat-label>Bloco   (A-Z)</mat-label>
            <input matInput type="text" name="bloco" formControlName="bloco" pattern="^[a-zA-Z]" required> 
          </mat-form-field>
          <mat-form-field style="display: block;">    
            <mat-label>Casa</mat-label>
            <input matInput type="number" name="num" formControlName="num" pattern="^[1-9][0-9]{0,1}" required> 
          </mat-form-field>
          <div>          
            <mat-label>Deseja adicionar obervação?</mat-label>
            <input style="margin-left: 10px" type="checkbox" [checked]="observacao" maxlength="500" (click)="adicionarOBS()">
          </div>
          <mat-form-field *ngIf="observacao" style="display: block;">    
            <input matInput type="text" name="obs" formControlName="obs" placeholder="Obervação"> 
          </mat-form-field>
          <div style="text-align: center;">
            <button mat-raised-button style="margin-top: 10px;" color="accent" [disabled]="!checkoutForm.valid" (click)="onSubmit()">Adicionar
              <span><img class="spinner" [src]="imagePath" alt="image" *ngIf='carregando'/></span>
            </button>
          </div>
        </form>
      </div>
    </div><!--Fim COl de cadastro de entregas-->
    <div class="col-sm-6">
      <div class="listagem">
        <div class="container">
          <h3>Restantes</h3>
          <div *ngIf="restantes?.length">
            <div cdkDropList #todoList="cdkDropList" [cdkDropListData]="restantes"
                [cdkDropListConnectedTo]="doneList" class="list" (cdkDropListDropped)="drop($event)">
              <div class="list-item" *ngFor="let item of restantes" cdkDrag>
                {{item.viewValue}} ( Bloco {{item.bloco}}  -  AP {{item.num}} º )
              </div>
            </div>
          </div>
          <div *ngIf="!restantes?.length">
            <p>Nenhuma entrega pendente!</p>
          </div>
        </div>

        <div class="container">
          <h3>Concluídas</h3>
              <div cdkDropList #doneList="cdkDropList" [cdkDropListData]="concluidas"
                  [cdkDropListConnectedTo]="" class="list" (cdkDropListDropped)="drop($event)">
                <div *ngIf="concluidas?.length">
                  <div class="list-item" *ngFor="let item of concluidas" cdkDrag>
                    {{item.viewValue}} ( Bloco {{item.bloco}}  -  AP {{item.num}} º )
                  </div>
                </div>
                <div *ngIf="!concluidas?.length">
                  Nenhuma entrega concluida recentemente!
                </div>
              </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--[cdkDropListConnectTo]="todoList" foi desconectado-->

